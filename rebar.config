{erl_opts, [debug_info]}.

{deps, []}.

{escript_incl_apps, [erlfmt, getopt]}.

{escript_main_app, erlfmt}.

{escript_name, erlfmt}.

{escript_emu_args, "%%! +sbtu +A0 -noinput -noshell -mode minimal\n"}.

{minimum_otp_vsn, "21"}.

{erlc_compiler, [{recursive, false}]}.

{provider_hooks, [
    {pre, [
        {ct, escriptize}
    ]}
]}.

{dialyzer, [
    {warnings, [no_improper_lists]},
    {exclude_mods, [rebar3_fmt_prv]}
]}.

{profiles, [
    {release, [
        {deps, [getopt]},
        {erl_opts, [no_debug_info, deterministic]}
    ]},
    {dialyzer, [{deps, [getopt]}
               ]},
    {test, [
        {deps, [getopt]}
    ]}
]}.

{erlfmt, [
    write,
    {files, ["{src,include,test}/*.{hrl,erl,app.src}", "rebar.config"]},
    {exclude_files, ["src/erlfmt_parse.erl"]}
]}.
